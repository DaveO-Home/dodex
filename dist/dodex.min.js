var parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"tkn/":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=26,n="-190",r=8,o=null,a=null,c=0,s="",i=null,d=document.querySelector(".dodex--open"),l=null,u=null,p=null,f=!1,y=!0,h=0,m=null,b=52,v=0,x=null,g=0,S=0,C=!1,A=null,w=null,k=function(e){h=S=e-1,x.rollAhead(u[S])},P=function(e){h=S=e-1,x.rollBack(u[S],S)},q=function(e){var t=document.body,n=document.documentElement;e.ctrlKey&&null!==x.mess?x.mess&&x.mess.popup(p,x,u):"none"!==x.private&&null!==x.input&&(null!==document.querySelector("#dodexInput")&&document.querySelector("#dodexInput").style&&"1"===document.querySelector("#dodexInput").style.opacity?(document.querySelector("#dodexInput").style.opacity="0",t.scrollTop=0,n.scrollTop=0):x.input&&(x.input(p,x,u),document.querySelector("#dodexInput").style.opacity="1"))},E=function(e){c=e.clientY,f=!0},N=function(e){g=0,f=!1},L=function(e){g=0,f=!1},T=function(e){f&&g>0&&g%r==0||(f&&void 0!==u[S]&&(S<m&&c<e.clientY?(26==S&&(h=S=27),x.rollAhead(u[S],S),S=c<e.clientY&&S<m-1?S+=1:S,g+=1):(26==S&&(h=S=25),S>-1&&(u[S].removeAttribute("style"),u[S].style.setProperty("top",o*S*-1+"px"),x.removeClass(u[S].querySelector(".face"),"remove-tab"),S=S>0?S-=1:0,h=S,v=g+=1))),c=e.clientY)},j=function(e){switch(!0){case e.indexOf("edge")>-1:return"edge";case e.indexOf("opr")>-1&&!!window.opr:return"opera";case e.indexOf("chrome")>-1&&!!window.chrome:return"chrome";case e.indexOf("trident")>-1:return"ie";case e.indexOf("firefox")>-1:return"firefox";case e.indexOf("safari")>-1:return"safari";default:return"other"}}(window.navigator.userAgent.toLowerCase()),O={init:function(e){var t=this;return x=B,p=this,d||(d=document.querySelector(".dodex--open")),d.onmousedown=function(e){t.openDodex(e)},new Promise(function(t,n){x.setSize(e),x.setPosition(e),x.setPrivate(e),x.setComm(e),s.match(/js$/i)?x.loadJs(s,t):s.match(/json$/i)?x.loadJson(s,t):B.addElements({},t)}).then(function(e){return e}).catch(function(e){throw"The widgit doDex did not load correctly: ".concat(e)})},setContentFile:function(e){s=e},addCard:function(e){if(!(m>b)){var t=u.length+1,n=x.addBaseCard(t,i);x.addCardFrontFace(t,e,n),x.addCardBackFace(t,e,n),m+=1}},openDodex:function(e){var t=document.querySelector(".top--dodex");if(C)t.classList.add("minus-thousand"),x.removeClass(t,"plus-thousand"),t.style.setProperty("top",x.getTop(o)),A&&t.style.setProperty("left",A),C=!1;else try{x.removeClass(t,"minus-thousand"),t.classList.add("plus-thousand"),t.style.setProperty("top",x.getTop(o)),A&&t.style.setProperty("left",A),C=!0}finally{}}},B={setSize:function(t){"object"===e(t)&&"number"==typeof t.width&&"number"==typeof t.height&&(o=t.height,a=t.width)},setPosition:function(t){"object"===e(t)&&"string"==typeof t.left&&"string"==typeof t.top&&t.left.includes("%")&&t.top.includes("px")&&("50%"!==t.left||"100px"!==t.top)&&(A=t.left,w=t.top)},setPrivate:function(t){this.private="none",this.replace=!1,this.input=null,"object"===e(t)&&(this.private=t.private||this.private,this.replace=t.replace||this.replace,this.input=t.input||this.input,"string"==typeof this.private&&"boolean"==typeof this.replace&&"function"==typeof this.input||this.input&&console.warn("Initialization parameters may be incorrect"))},setComm:function(t){this.handle="ace",this.server="localhost:3087",this.mess=null,"object"===e(t)&&(this.server=t.server||this.server,this.mess=t.mess||this.mess,"string"==typeof this.server&&"object"===e(this.mess)||this.mess&&console.warn("Initialization parameters may be incorrect"))},rollAhead:function(e,t){26!==(t=void 0!==t?t:S)&&((null===e.getAttribute("style")||e.getAttribute("style").indexOf("rotateX")<0)&&e.setAttribute("style","opacity: 1;transform: rotateX(".concat(n,"deg); z-index:").concat(t,";/*top:").concat(o*t*-1,"px; transition: transform 1s cubic-bezier(.47,.03,.47,1);*/")),e.style.setProperty("top",o*t*-1+"px")),h=t,v=t+1},rollBack:function(e,t){26!=t&&(e.removeAttribute("style"),e.style.setProperty("top",o*t*-1+"px"))},removeClass:function(e,t,n){void 0!==n&&(e=document.querySelector(n));var r=new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g");e.className=e.className.replace(r,"")},setDials:function(e){var t=a-70,n=o+175,r=o+75;i.setAttribute("style","width:".concat(a,"px; height: ").concat(o,"px;")),e[0].setAttribute("style","transform: translate(".concat(t,"px, ").concat(n,"px) rotate(90deg)")),e[1].setAttribute("style","transform: translate(".concat(-100,"px, ").concat(r,"px) rotate(-90deg)")),e.forEach(function(e){e.onmousedown=E,e.onmouseup=N,e.onmouseout=L,e.onmousemove=T,e.ondblclick=q})},currentClickedElement:function(e,t){var n,r=e&&e.target?e.target:null;if(null===r)return null;r.className.split(" ").forEach(function(e){var t=e.indexOf("front")>-1?"front":e;switch(t=e.indexOf("back")>-1?"back":t){case"front":var r=e.substring("front".length,e.length);if(isNaN(r))return;r=Number(r);var o=u[r-1].getAttribute("style"),a=r;if(o&&o.indexOf("z-index")>-1){for(var c=v;c>=a;c--)P(c);return}if("firefox"===j&&o&&o.indexOf("z-index")>-1)return;for(var s=h;s<r-1;s++)x.rollAhead(u[s],s);v=r,k(r);break;case"back":if(n=e.substring("back".length,e.length),isNaN(n))break;27!=n&&P(n)}})},getStyleValue:function(e,t,n){var r=null;r="string"==typeof e?document.querySelector(e):e;var o=window.getComputedStyle(r);if(n){var a=o.getPropertyValue(t).replace(/[^\d]/g,"");try{if(isNaN(a))throw{message:"Style is not a Number"}}catch(c){console.error(c.message,a)}return Number(isNaN(a)?0:a)}return o},addElements:function(e,n){var r=this,c=document.querySelector("body"),s=document.createElement("div");this.createAttribute(s,"class","top--dodex"),c.appendChild(s),c=s,s=document.createElement("div"),this.createAttribute(s,"class","dodex"),c.appendChild(s),(i=s).onmousedown=function(e){r.currentClickedElement(e,r)},o||a||(o=this.getStyleValue(i,"height",!0),a=this.getStyleValue(i,"width",!0)),i.style.setProperty("--cardwidth",a+"px"),i.style.setProperty("--cardheight",o+"px"),s=document.createElement("div"),this.createAttribute(s,"class","dial"),i.appendChild(s),s=document.createElement("div"),this.createAttribute(s,"class","dial"),i.appendChild(s),l=document.querySelectorAll(".dial"),this.setDials(l);for(var d=t+1,f=1;f<=d;f++){var h=x.addBaseCard(f,i);x.addCardFrontFace(f,e,h);x.addCardBackFace(f,e,h)}if(u=Array.prototype.slice.call(i.querySelectorAll(".card")),m=void 0!==u?u.length:0,"firefox"===j){for(var b=u.length,v=0;v<b;v++)x.rollAhead(u[v],v);setTimeout(function(){for(var e=b-1;e>=0;e--)P(e+1);u[26].classList.add("rotate-195"),u[26].style.setProperty("top",26*o*-1+"px")})}else u[26].classList.add("rotate-195"),u[26].style.setProperty("top",26*o*-1+"px"),e.cards&&e.cards[27]&&s.insertAdjacentHTML("beforeend",e.cards.card27.back.content);F(p,u).then(function(){x.linkClickHandler(),u[26].ondblclick=q;var e=document.querySelector("body");"firefox"===j&&e.classList.add("dodex-body"),y=!1}),n()},linkClickHandler:function(){document.querySelector(".dodex").querySelectorAll("a").forEach(function(e){e.onclick=function(e){p.openDodex(e)}})},addBaseCard:function(e,t){var n=document.createElement("div");this.createAttribute(n,"class","card card".concat(e," speed")),t.appendChild(n);var r=document.querySelector(".card.card".concat(e));return n.style.setProperty("top",o*(e-1)*-1+"px"),r},addCardFrontFace:function(e,t,n){var r=document.createElement("div"),o="front".concat(e);this.createAttribute(r,"class","".concat(o," face shadow1 shaft")),n.appendChild(r);var a="card".concat(e);if(t.cards&&t.cards[a]){r.insertAdjacentHTML("beforeend",t.cards[a].front.content),t.cards[a].front.content&&r.classList.add("green-tab");var c=t.cards[a].tab;c?(c=c.length>3?c.substring(0,3):c,r.style.setProperty("--tab",'"'.concat(c,'"'))):r.style.setProperty("--tab",'"'.concat(e,'"'))}else r.style.setProperty("--tab",'"'.concat(e,'"'));return a},addCardBackFace:function(e,t,n){var r=String.fromCharCode(e+64);e>26&&(r="");var o="card".concat(e),a=document.createElement("div");this.createAttribute(a,"class","back".concat(e," face shadow2").concat("")),n.appendChild(a);"back".concat(e);this.addContent(a,r),t.cards&&t.cards[o]&&a.insertAdjacentHTML("beforeend",t.cards[o].back.content),u&&u.push(n)},createAttribute:function(e,t,n){var r=document.createAttribute(t);r.value=n,e.setAttributeNode(r)},addContent:function(e,t){var n=document.createTextNode(t);e.appendChild(n)},getTop:function(e){return w||(e<220?100:e<300?150:e<500?300:e<700?500:600)+"px"},loadJson:function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(404===this.status)throw"JSON file not found:".concat(e);if(4===this.readyState&&200===this.status&&this.response)try{B.addElements(JSON.parse(this.response),t)}catch(n){console.error("Possible file not found: ",n),B.addElements({},t)}},r.open("GET",e),r.send()},loadJs:function(e,t,n){new Promise(function(n,r){var o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=function(e){"undefined"!=typeof dodexContent?B.addElements(dodexContent,t):B.addElements({},t),n()},o.onerror=function(){B.addElements({},t),n()},document.head.appendChild(o)})}};window.doDex=O;var D=O;exports.default=D;var F=function(e,t){return new Promise(function(n,r){indexedDB.open("dodex",2).onsuccess=function(r){var o,a=r.target.result;try{o=a.transaction("cards","readonly")}catch(s){return a.close(),indexedDB.deleteDatabase("dodex"),void n()}var c=o.objectStore("cards").getAll();c.onsuccess=function(){for(var r=c.result.sort(function(e,t){return Number(e.idx.replace("card",""))>Number(t.idx.replace("card",""))?1:-1}),o=0;o<r.length;o++){var s=Number(r[o].idx.replace("card",""));!function(n,r){var o={cards:{}};o.cards=n,"append"===n.type&&r<t.length||r<=27||r<t.length?("replace"===n.type&&(document.querySelector(".front"+r).innerHTML="",document.querySelector(".back"+r).innerHTML=""),H(o,n.idx,r,t)):e.addCard(o)}(r[o],s)}a.close(),n()}}})};function H(e,t,n,r){var o=r[n-1].querySelector(".front"+n),a=r[n-1].querySelector(".back"+n);e.cards&&e.cards[t]&&(e.cards[t].front&&e.cards[t].front.content&&e.cards[t].front.content.length>0&&(o.insertAdjacentHTML("beforeend",e.cards[t].front.content),o.classList.add("green-tab")),e.cards[t].back&&e.cards[t].back.content&&e.cards[t].back.content.length>0&&a.insertAdjacentHTML("beforeend",e.cards[t].back.content))}
},{}]},{},["tkn/"], null)